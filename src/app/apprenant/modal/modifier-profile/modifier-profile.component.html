<div class="titre" mat-dialog-title>
    <h2  >Mon profile </h2>
    <span style="color: gray; font-size: medium; margin-top: -20px; margin-left: 20px;"> </span>
</div>
@if (profile) {
<form class="file-upload" [formGroup]="editForm" (ngSubmit)="addprofile()">
<div class="col-12" class="infoper">
    
        <mat-dialog-content class="mat-typography">
        <div class="row">

            <div class="col-xxl-8 mb-5 mb-xxl-0">
                <div class="bg-secondary-soft px-4 py-5 rounded">
                    <div class="row g-3 formcontrol" >
                            <mat-form-field class="example-full-width">
                                <mat-label>Nom</mat-label>
                                <input type="text"  matInput formControlName="firstname"  [errorStateMatcher]="matcher"
                                       placeholder="Nom">
                                @if (editForm.hasError('email') && !editForm.hasError('required')) {
                                  <mat-error>Please enter a valid email address</mat-error>
                                }
                                @if (editForm.hasError('required')) {
                                  <mat-error>Email is <strong>required</strong></mat-error>
                                }
                              </mat-form-field>
                            
                        
                              <mat-form-field class="example-full-width">
                                <mat-label>Prenom</mat-label>
                                <input type="text" matInput formControlName="lastname" [errorStateMatcher]="matcher"
                                       placeholder="prenom">
                                @if (editForm.hasError('email') && !editForm.hasError('required')) {
                                  <mat-error>Please enter a valid email address</mat-error>
                                }
                                @if (editForm.hasError('required')) {
                                  <mat-error>Email is <strong>required</strong></mat-error>
                                }
                              </mat-form-field>
                       
                              <mat-form-field>
                                <mat-label>date de naissance</mat-label>
                                <input matInput formControlName="naissance" [matDatepicker]="picker">
                                <mat-hint>MM/DD/YYYY</mat-hint>
                                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                              </mat-form-field>
                        
                        <mat-form-field class="example-full-width">
                            <mat-label>CIN</mat-label>
                            <input type="text" matInput formControlName="cin" [errorStateMatcher]="matcher"
                                   placeholder="Nom">
                            @if (editForm.hasError('email') && !editForm.hasError('required')) {
                              <mat-error>Please enter a valid email address</mat-error>
                            }
                            @if (editForm.hasError('required')) {
                              <mat-error>Email is <strong>required</strong></mat-error>
                            }
                          </mat-form-field>
                       
                          <mat-form-field class="example-full-width">
                            <mat-label>Numero</mat-label>
                            <input type="tel" matInput formControlName="tel" [errorStateMatcher]="matcher"
                                   placeholder="Nom">
                            @if (editForm.hasError('email') && !editForm.hasError('required')) {
                              <mat-error>Please enter a valid email address</mat-error>
                            }
                            @if (editForm.hasError('required')) {
                              <mat-error>Email is <strong>required</strong></mat-error>
                            }
                          </mat-form-field>
                        
                          <mat-form-field class="example-full-width">
                            <mat-label>Numero fixe</mat-label>
                            <input type="tel" matInput formControlName="telFix" [errorStateMatcher]="matcher"
                                   placeholder="Nom">
                            @if (editForm.hasError('email') && !editForm.hasError('required')) {
                              <mat-error>Please enter a valid email address</mat-error>
                            }
                            @if (editForm.hasError('required')) {
                              <mat-error>Email is <strong>required</strong></mat-error>
                            }
                          </mat-form-field>
                       
                          <mat-form-field class="example-full-width">
                            <mat-label>Email</mat-label>
                            <input type="email" matInput formControlName="email" [errorStateMatcher]="matcher"
                                   placeholder="Nom">
                            @if (editForm.hasError('email') && !editForm.hasError('required')) {
                              <mat-error>Please enter a valid email address</mat-error>
                            }
                            @if (editForm.hasError('required')) {
                              <mat-error>Email is <strong>required</strong></mat-error>
                            }
                          </mat-form-field>
                       
                          <mat-form-field class="example-full-width">
                            <mat-label>Societe</mat-label>
                            <input type="text" matInput formControlName="societe" [errorStateMatcher]="matcher"
                                   placeholder="Nom">
                            @if (editForm.hasError('email') && !editForm.hasError('required')) {
                              <mat-error>Please enter a valid email address</mat-error>
                            }
                            @if (editForm.hasError('required')) {
                              <mat-error>Email is <strong>required</strong></mat-error>
                            }
                          </mat-form-field>
                        
                          <mat-form-field class="example-full-width">
                            <mat-label>Adresse</mat-label>
                            <input type="text" matInput formControlName="adrress" [errorStateMatcher]="matcher"
                                   placeholder="Nom">
                            @if (editForm.hasError('email') && !editForm.hasError('required')) {
                              <mat-error>Please enter a valid email address</mat-error>
                            }
                            @if (editForm.hasError('required')) {
                              <mat-error>Email is <strong>required</strong></mat-error>
                            }
                          </mat-form-field>
                    </div> 
                </div>
            </div>
            <div class="col-xxl-4">
                <div class="bg-secondary-soft px-4 py-5 rounded">
                    <div class="row g-3">
                        <h4 class="mb-4 mt-0">Impoter l'image</h4>
                        <div class="text-center">

                            <div class="square position-relative display-2 mb-3">
                              @if (imageUrl!=null) {
                                <img style="width: 100%; height: 100%;" [src]="imageUrl" alt="User Image"/>
                              }@else {
                                <i class="fas fa-fw fa-user position-absolute top-50 start-50 translate-middle text-secondary"></i>
                              }
                            </div>
                            
                            <input type="file" id="customFile" name="file" (change)="onFileSelected($event)"  hidden="">
                            <label class="btn btn-success-soft btn-block"  for="customFile">Importer</label>
                            
                           
                            <!-- <p class="text-muted mt-3 mb-0"><span class="me-1">Note:</span>Minimum size 300px x 300px</p> -->
                        </div>
                    </div>
                </div>
            </div>
        </div> 
        <div class="row mb-5 gx-5">
            <div class="col-md-6">
                <label class="form-label"><i class="fab fa-fw fa-linkedin-in text-linkedin me-2"></i>Linkedin *</label>
                <input type="text" class="form-control" placeholder="" aria-label="Linkedin" value="http://www.linkedin.com">
            </div>
            <div class="col-md-6">
                <label class="form-label"><i class="fab fa-fw fa-linkedin-in text-linkedin me-2"></i>Linkedin *</label>
                <input type="text" class="form-control" placeholder="" aria-label="Linkedin" value="http://www.linkedin.com">
            </div>
            <div class="col-md-6">
                <label class="form-label"><i class="fab fa-fw fa-linkedin-in text-linkedin me-2"></i>Linkedin *</label>
                <input type="text" class="form-control" placeholder="" aria-label="Linkedin" value="http://www.linkedin.com">
            </div>
            
        </div>
        
        </mat-dialog-content>
</div>
        <mat-dialog-actions align="end" >
            <button mat-button [mat-dialog-close]="true" type="submit" cdkFocusInitial>Modifier</button>
            <button mat-button mat-dialog-close>Annuler</button>
        </mat-dialog-actions>
        </form>
    }