@if (profile) {
<div class="row gutters-sm container">
    <div class="col-md-4 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex flex-column align-items-center text-center">
            @if (imageUrl!=null) {
              <img [src]="imageUrl" alt="User Image"  class="rounded-circle" width="130" height="140" />
            }@else {
              <img src="../../../assets/images/userimage.jpg" alt="Admin" class="rounded-circle" width="150">
            }
            
            <div class="mt-3">
              <h4>{{profile.firstname}} {{profile.lastname}}</h4>
              <p class="text-secondary mb-1">{{profile.poste}}</p>
              <p class="text-muted font-size-sm">{{profile.adrress}}</p>
              <!-- <button class="btn btn-primary">Follow</button>
              <button class="btn btn-outline-primary">Message</button> -->
                <!-- <input type="file" (change)="onFileSelected($event)" /> -->
                <!-- <button (click)="onSubmit()">upload</button> -->
            </div>
          </div>
        </div>
      </div>
      <div class="card mt-3">
        <ul class="list-group list-group-flush">
          <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
            <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>Website</h6>
            <span class="text-secondary">https://bootdey.com</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
            <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github mr-2 icon-inline"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Github</h6>
            <span class="text-secondary">bootdey</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
            <h6 class="mb-0"><i class="fab fa-fw fa-linkedin-in text-linkedin me-2"></i>LinkedIn</h6>
            <span class="text-secondary">bootdey</span>
          </li>
          <!-- 
          <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
            <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram mr-2 icon-inline text-danger"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>Instagram</h6>
            <span class="text-secondary">bootdey</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
            <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook mr-2 icon-inline text-primary"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>Facebook</h6>
            <span class="text-secondary">bootdey</span>
          </li> -->
        </ul>
      </div>
    </div>
    <div class="col-md-8" >
      <div class="card mb-3" >
        <div class="card-body" style="padding: 2rem;">
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Nom complet</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.firstname}} {{profile.lastname}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Email</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.email}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Date de naissance</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.naissance| date: 'dd/MM/yyyy'}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">CIN</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.cin}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Numero telephone</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.tel}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Numero fixe</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.telFix}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Societe</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.societe}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Addresse</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{profile.adrress}}
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-12" align="end" style="padding: 0 2rem;">
              <button (click)="edit()" mat-stroked-button>Modifier</button>
              <!-- <a class="btn btn-info "  target="__blank" href="https://www.bootdey.com/snippets/view/profile-edit-data-and-skills">Edit</a> -->
            </div>
          </div>
        </div>
      </div>

      <div class="row gutters-sm">
        <div class="col-sm-6 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="d-flex align-items-center mb-3"><i style="font-size: 23px;" class="fa-solid fa-clock-rotate-left text-info mr-2"> Historiques des sessions</i></h6>
              <div align="end"><small><a style="color: gray; text-decoration: none;" href="apprenant/session">[Voir tous]</a></small></div>
              @if (demandes && demandes.length) {
                <table class="table table-hover">
                  <tbody>
                    @for (item of demandes.slice(0, 5); track $index) {
                    <tr (click)="openDetails(item)">
                      <td>
                        {{item.titre}} <br>
                      <small style="color: gray;">{{item.date| date: 'dd/MM/yyyy'}}</small> 
                      </td>
                    </tr>
                  }
                  </tbody>
                </table>
              }
              </div>
          </div>
        </div>
        <div class="col-sm-6 mb-3">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="d-flex align-items-center mb-3"><i style="font-size: 23px;" class="fas fa-graduation-cap text-info mr-2">Les attestations</i></h6>
              <mat-form-field style="width: 100%;">
                <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
              </mat-form-field>
              
              <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource" matSort>
              
                 
                  <ng-container matColumnDef="attestation">
                    <th mat-header-cell *matHeaderCellDef > nom </th>
                    <td mat-cell *matCellDef="let row"> {{row.fileName}} </td>
                  </ng-container>
                  <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> date </th>
                    <td mat-cell *matCellDef="let row"> {{row.demande.date| date:'dd/MM/yyyy'}} </td>
                  </ng-container>
                 
              
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="ates" style="cursor: pointer;" (click)="viewCertif(row.id)"></tr>
              
                  <!-- Row shown when there is no matching data. -->
                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                  </tr>
                </table>
              
                <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
              </div>
              
              
            </div>
          </div>
        </div>
      </div>



    </div>
</div>

}